<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Archive: 2016
  
</title>

<meta property="og:type" content="website">
<meta property="og:title" content="Trivia">
<meta property="og:url" content="http://weiucsd.github.io/archives/2016/page/2/index.html">
<meta property="og:site_name" content="Trivia">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Trivia">


  <link rel="alternative" href="/atom.xml" title="Trivia" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">Trivia</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">Trivia</a></h1>
    
    <div class="info">
      <div class="content">
        
        
      </div>
      
        <div class="avatar">
          
            <a href="/"><img src="/images/cat.jpg"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/crontab/">crontab</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scrapy/">scrapy</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/splash/">splash</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="http://wwei.site" title="My Website" target="_blank" rel="external">My Website</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/weiucsd" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1200px">
      
          

  
  
    
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2016" class="archive-year">2016</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/15/leetcode-288/" >
  leetcode-288. Unique Word Abbreviation
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/15/leetcode-288/"><span class="article-date">
  2016-08-15
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>An abbreviation of a word follows the form <first letter=""><number><last letter="">. Below are some examples of word abbreviations:<br>a) it                      –&gt; it    (no abbreviation)<br>b) d|o|g                   –&gt; d1g<br>c) i|nternationalizatio|n  –&gt; i18n<br>d) l|ocalizatio|n          –&gt; l10n</last></number></first></p>
<p>Assume you have a dictionary and given a word, find whether its abbreviation is unique in the dictionary. A word’s abbreviation is unique if no other word from the dictionary has the same abbreviation.</p>
<p>Example:<br>Given dictionary = [ “deer”, “door”, “cake”, “card” ]</p>
<p>isUnique(“dear”) -&gt; false<br>isUnique(“cart”) -&gt; true<br>isUnique(“cane”) -&gt; false<br>isUnique(“make”) -&gt; true<br><a href="https://leetcode.com/problems/unique-word-abbreviation/" target="_blank" rel="external">原题地址</a></p>
<p>一道easy题，然而并不是很easy。思路很明确，用hashtable记下字典里的缩写，然后比较所给的单词。有一个细节是，如果所给的词在字典里有，并且这个词的缩写在字典的缩写里是唯一的，是要返回true的。直接的解决办法是在hashtable里记下缩写对应的每个单词或者他们的index，但是在网上看到了更好的办法。只需要存一个string，如果有不同单词对应一个缩写就把这个string设为空。代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> ValidWordAbbr &#123;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; hashmap;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    ValidWordAbbr(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; &amp;dictionary) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="built_in">string</span>&amp; s : dictionary) &#123;</div><div class="line">            <span class="built_in">string</span> abbr = toAbbr(s);</div><div class="line">            <span class="keyword">if</span> (hashmap.count(abbr) &gt; <span class="number">0</span> &amp;&amp; hashmap[abbr] != s)</div><div class="line">                hashmap[abbr] = <span class="string">""</span>;</div><div class="line">            <span class="keyword">else</span></div><div class="line">                hashmap[abbr] = s;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="built_in">string</span> <span class="title">toAbbr</span><span class="params">(<span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word.size() &lt;= <span class="number">2</span>)</div><div class="line">            <span class="keyword">return</span> word;</div><div class="line">        <span class="keyword">return</span> word[<span class="number">0</span>] + to_string(word.size() - <span class="number">2</span>) + word.back();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isUnique</span><span class="params">(<span class="built_in">string</span> word)</span> </span>&#123;</div><div class="line">        <span class="built_in">string</span> abbr = toAbbr(word);</div><div class="line">        <span class="keyword">if</span> (hashmap.count(abbr) == <span class="number">0</span> || hashmap[abbr] == word)</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// Your ValidWordAbbr object will be instantiated and called as such:</span></div><div class="line"><span class="comment">// ValidWordAbbr vwa(dictionary);</span></div><div class="line"><span class="comment">// vwa.isUnique("hello");</span></div><div class="line"><span class="comment">// vwa.isUnique("anotherWord");</span></div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/15/word-wrap/" >
  限制文字单行显示，超出部分省略号
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/15/word-wrap/"><span class="article-date">
  2016-08-15
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>需要三句话。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</div><div class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</div><div class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</div></pre></td></tr></table></figure></p>
<p>解释一下。第一句是说文字显示不换行，第二句说溢出部分隐藏，第三局说溢出时显示省略号。<br>所以能够实现以上功能。</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/14/设定图像比例/" >
  设定图像比例
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/14/设定图像比例/"><span class="article-date">
  2016-08-14
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p><b>问题</b>：我们现在有很多图像，它们大小不一但是大致相似。我们需要保持图像的宽度一致，按照css的默认设置，图像会保持原始比例，那么图像的高度会有区别，在网页排版时因为有高有低会出现空白的地方。我们需要解决的问题就是把所有图像设为同样的比例，比如16:9.</p>
<p><b>解决方法</b>：我们可以给img外面套一层框架，设置框架的宽高比并隐藏溢出部分，代码如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span><span class="selector-class">.image-container</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">padding-bottom</span>: <span class="number">56.25%</span>;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后html里可以这样使用：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"image-container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img_src"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/13/leetcode-359/" >
  leetcode-359. Logger Rate Limiter
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/13/leetcode-359/"><span class="article-date">
  2016-08-13
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Design a logger system that receive stream of messages along with its timestamps, each message should be printed if and only if it is not printed in the last 10 seconds.</p>
<p>Given a message and a timestamp (in seconds granularity), return true if the message should be printed in the given timestamp, otherwise returns false.</p>
<p>It is possible that several messages arrive roughly at the same time.</p>
<p>Example:<br>Logger logger = new Logger();</p>
<p>// logging string “foo” at timestamp 1<br>logger.shouldPrintMessage(1, “foo”); returns true; </p>
<p>// logging string “bar” at timestamp 2<br>logger.shouldPrintMessage(2,”bar”); returns true;</p>
<p>// logging string “foo” at timestamp 3<br>logger.shouldPrintMessage(3,”foo”); returns false;</p>
<p>// logging string “bar” at timestamp 8<br>logger.shouldPrintMessage(8,”bar”); returns false;</p>
<p>// logging string “foo” at timestamp 10<br>logger.shouldPrintMessage(10,”foo”); returns false;</p>
<p>// logging string “foo” at timestamp 11<br>logger.shouldPrintMessage(11,”foo”); returns true;<br><a href="https://leetcode.com/problems/logger-rate-limiter/" target="_blank" rel="external">原题地址</a></p>
<p>Hash table的简单应用。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Logger &#123;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; hash;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    Logger() &#123;</div><div class="line">        hash = <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Returns true if the message should be printed in the given timestamp, otherwise returns false.</span></div><div class="line">        If this method returns false, the message will not be printed.</div><div class="line">        The timestamp is in seconds granularity. */</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">shouldPrintMessage</span><span class="params">(<span class="keyword">int</span> timestamp, <span class="built_in">string</span> message)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (hash.count(message) == <span class="number">0</span> || timestamp &gt;= hash[message] + <span class="number">10</span>) &#123;</div><div class="line">            hash[message] = timestamp;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Your Logger object will be instantiated and called as such:</div><div class="line"> * Logger obj = new Logger();</div><div class="line"> * bool param_1 = obj.shouldPrintMessage(timestamp,message);</div><div class="line"> */</div></pre></td></tr></table></figure></p>
<p>在网上看到一种更为简洁的写法，mark一下。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Logger &#123;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; hash;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    Logger() &#123;</div><div class="line">        hash = <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt;();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Returns true if the message should be printed in the given timestamp, otherwise returns false.</span></div><div class="line">        If this method returns false, the message will not be printed.</div><div class="line">        The timestamp is in seconds granularity. */</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">shouldPrintMessage</span><span class="params">(<span class="keyword">int</span> timestamp, <span class="built_in">string</span> message)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (timestamp &lt; hash[message])</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        hash[message] = timestamp + <span class="number">10</span>;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * Your Logger object will be instantiated and called as such:</div><div class="line"> * Logger obj = new Logger();</div><div class="line"> * bool param_1 = obj.shouldPrintMessage(timestamp,message);</div><div class="line"> */</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/13/leetcode-163/" >
  leetcode-163. Missing Ranges
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/13/leetcode-163/"><span class="article-date">
  2016-08-13
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Given a sorted integer array where the range of elements are [lower, upper] inclusive, return its missing ranges.</p>
<p>For example, given [0, 1, 3, 50, 75], lower = 0 and upper = 99, return [“2”, “4-&gt;49”, “51-&gt;74”, “76-&gt;99”].<br><a href="https://leetcode.com/problems/missing-ranges/" target="_blank" rel="external">原题地址</a></p>
<p>挺简单的一道题，不知道有什么可说的。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; findMissingRanges(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper) &#123;</div><div class="line">    nums.push_back(upper + <span class="number">1</span>);</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; re;</div><div class="line">    <span class="keyword">int</span> prev = lower - <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) &#123;</div><div class="line">        <span class="keyword">if</span> (i &gt; prev + <span class="number">2</span>)</div><div class="line">            re.push_back(to_string(prev + <span class="number">1</span>) + <span class="string">"-&gt;"</span> + to_string(i - <span class="number">1</span>));</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i == prev + <span class="number">2</span>)</div><div class="line">            re.push_back(to_string(prev + <span class="number">1</span>));</div><div class="line">        prev = i;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> re;</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/13/leetcode-277/" >
  leetcode-277. Find the Celebrity
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/13/leetcode-277/"><span class="article-date">
  2016-08-13
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Suppose you are at a party with n people (labeled from 0 to n - 1) and among them, there may exist one celebrity. The definition of a celebrity is that all the other n - 1 people know him/her but he/she does not know any of them.</p>
<p>Now you want to find out who the celebrity is or verify that there is not one. The only thing you are allowed to do is to ask questions like: “Hi, A. Do you know B?” to get information of whether A knows B. You need to find out the celebrity (or verify there is not one) by asking as few questions as possible (in the asymptotic sense).</p>
<p>You are given a helper function bool knows(a, b) which tells you whether A knows B. Implement a function int findCelebrity(n), your function should minimize the number of calls to knows.</p>
<p>Note: There will be exactly one celebrity if he/she is in the party. Return the celebrity’s label if there is a celebrity in the party. If there is no celebrity, return -1.<br><a href="https://leetcode.com/problems/find-the-celebrity/" target="_blank" rel="external">原题地址</a></p>
<p>比较蠢的办法就是对每个人查看，如果他不认识其他人，并且其他人认识他，那他就是celebrity。Time: O(n<sup>2</sup>).<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Forward declaration of the knows API.</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">knows</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">bool</span> cel = <span class="literal">true</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (i == j) <span class="keyword">continue</span>;</div><div class="line">                <span class="keyword">if</span> (knows(i, j)) &#123;cel = <span class="literal">false</span>; <span class="keyword">break</span>;&#125;</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (!knows(j, i)) &#123;cel = <span class="literal">false</span>; <span class="keyword">break</span>;&#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (cel)    <span class="keyword">return</span> i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>更好的办法是Two pass，第一遍先找到可能是celebrity的人，第二遍验证。Time: O(n).<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Forward declaration of the knows API.</span></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">knows</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</div><div class="line"></div><div class="line"><span class="keyword">class</span> Solution &#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> cel = <span class="number">0</span>;</div><div class="line">        <span class="comment">// if a knows b, a must not be the celebrity</span></div><div class="line">        <span class="comment">// if b is the celebrity, a will know him, so we won't miss him</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (knows(cel, i))</div><div class="line">                cel = i;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// validate</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (i != cel &amp;&amp; (knows(cel, i) || !knows(i, cel)))</div><div class="line">                <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cel;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/12/scarpy-utf-8/" >
  scrapy 中文乱码与utf-8
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/12/scarpy-utf-8/"><span class="article-date">
  2016-08-12
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scrapy/">scrapy</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>记录一下刚才解决的有关scrapy中文乱码问题。</p>
<p>之前在mac上运行scrapy的时候没有关心过这一点，可能是系统默认字符就是utf-8。搬到linux服务器上之后会出现如下的错误。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UnicodeEncodeError: &apos;latin-1&apos; codec can&apos;t encode characters in position 96-106: ordinal not in range(256)</div></pre></td></tr></table></figure></p>
<p>而字符串会变成这样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">u&apos;\u98ce\u6b66\u0416\u9f99\u884c&apos;</div></pre></td></tr></table></figure></p>
<p>经过查找资料和测试，需要修改的地方有两个。一是建表的时候，需要在create table之后加上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DEFAULT CHARACTER SET = utf8</div></pre></td></tr></table></figure></p>
<p>二是在连接到数据库时，在MySQLdb.connect里加上<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">charset =&apos;utf8&apos;</div></pre></td></tr></table></figure></p>
<p>执行这两步后，即可正常显示中文。</p>
<p>————————–BTW————————–<br>在做php显示的时候也遇到了乱码的问题，就不另开贴了。在连接到数据库后加上下面的语句即可。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqli_set_charset($conn,<span class="string">"utf8"</span>);</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/11/leetcode-245/" >
  leetcode-245. Shortest Word Distance III
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/11/leetcode-245/"><span class="article-date">
  2016-08-11
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>This is a follow up of Shortest Word Distance. The only difference is now word1 could be the same as word2.</p>
<p>Given a list of words and two words word1 and word2, return the shortest distance between these two words in the list.</p>
<p>word1 and word2 may be the same and they represent two individual words in the list.</p>
<p>For example,<br>Assume that words = [“practice”, “makes”, “perfect”, “coding”, “makes”].</p>
<p>Given word1 = “makes”, word2 = “coding”, return 1.<br>Given word1 = “makes”, word2 = “makes”, return 3.</p>
<p>Note:<br>You may assume word1 and word2 are both in the list.<br><a href="https://leetcode.com/problems/shortest-word-distance-iii/" target="_blank" rel="external">原题地址</a></p>
<p>比Shortest Word Distance的第三种解法多一个判断。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">shortestWordDistance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> idx = <span class="number">-1</span>, dist = INT_MAX;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words[i] == word1 || words[i] == word2) &#123;</div><div class="line">            <span class="keyword">if</span> (idx != <span class="number">-1</span> &amp;&amp; (word1 == word2 || words[i] != words[idx]))</div><div class="line">                dist = min(dist, i - idx);</div><div class="line">            idx = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dist;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/11/leetcode-244/" >
  leetcode-244. Shortest Word Distance II
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/11/leetcode-244/"><span class="article-date">
  2016-08-11
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>This is a follow up of Shortest Word Distance. The only difference is now you are given the list of words and your method will be called repeatedly many times with different parameters. How would you optimize it?</p>
<p>Design a class which receives a list of words in the constructor, and implements a method that takes two words word1 and word2 and return the shortest distance between these two words in the list.</p>
<p>For example,<br>Assume that words = [“practice”, “makes”, “perfect”, “coding”, “makes”].</p>
<p>Given word1 = “coding”, word2 = “practice”, return 3.<br>Given word1 = “makes”, word2 = “coding”, return 1.</p>
<p>Note:<br>You may assume that word1 does not equal to word2, and word1 and word2 are both in the list.<br><a href="https://leetcode.com/problems/shortest-word-distance-ii/" target="_blank" rel="external">原题地址</a></p>
<p>哈哈哈，人生的大喜大悲不过如此。刚刚还在吐槽zz的解法正中这道题下怀，直接贴上代码。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> WordDistance &#123;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; hash;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    WordDistance(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++)</div><div class="line">            hash[words[i]].push_back(i);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">shortest</span><span class="params">(<span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> diff = INT_MAX, i1 = <span class="number">0</span>, i2 = <span class="number">0</span>;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec1 = hash[word1];</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec2 = hash[word2];</div><div class="line">        <span class="keyword">while</span> (i1 &lt; vec1.size() &amp;&amp; i2 &lt; vec2.size()) &#123;</div><div class="line">            <span class="keyword">if</span> (vec1[i1] &lt; vec2[i2])</div><div class="line">                diff = min(diff, vec2[i2] - vec1[i1++]);</div><div class="line">            <span class="keyword">else</span></div><div class="line">                diff = min(diff, vec1[i1] - vec2[i2++]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> diff;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/08/11/leetcode-243/" >
  leetcode-243. Shortest Word Distance
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/08/11/leetcode-243/"><span class="article-date">
  2016-08-11
</span>
</a>
        

        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Given a list of words and two words word1 and word2, return the shortest distance between these two words in the list.</p>
<p>For example,<br>Assume that words = [“practice”, “makes”, “perfect”, “coding”, “makes”].</p>
<p>Given word1 = “coding”, word2 = “practice”, return 3.<br>Given word1 = “makes”, word2 = “coding”, return 1.</p>
<p>Note:<br>You may assume that word1 does not equal to word2, and word1 and word2 are both in the list.<br><a href="https://leetcode.com/problems/shortest-word-distance/" target="_blank" rel="external">原题地址</a></p>
<p>感觉自己就跟zz一样。</p>
<p>首先扔出自己的2b解法。O(n) time, and O(n) space.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</div><div class="line">    <span class="built_in">unordered_map</span>&lt;<span class="built_in">string</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; hash;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++)</div><div class="line">        hash[words[i]].push_back(i);</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec1 = hash[word1];</div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec2 = hash[word2];</div><div class="line">    <span class="keyword">int</span> diff = INT_MAX, i1 = <span class="number">0</span>, i2 = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i1 &lt; vec1.size() &amp;&amp; i2 &lt; vec2.size()) &#123;</div><div class="line">        <span class="keyword">if</span> (vec1[i1] &lt; vec2[i2]) &#123;</div><div class="line">            diff = min(diff, vec2[i2] - vec1[i1]);</div><div class="line">            i1++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            diff = min(diff, vec1[i1] - vec2[i2]);</div><div class="line">            i2++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> diff;</div></pre></td></tr></table></figure></p>
<p>然后在网上看到比较标准的解法。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> i1 = <span class="number">-1</span>, i2 = <span class="number">-1</span>, diff = INT_MAX;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words[i] == word1) &#123;</div><div class="line">            i1 = i;</div><div class="line">            <span class="keyword">if</span> (i2 != <span class="number">-1</span>)   diff = min(diff, i1 - i2);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (words[i] == word2) &#123;</div><div class="line">            i2 = i;</div><div class="line">            <span class="keyword">if</span> (i1 != <span class="number">-1</span>)   diff = min(diff, i2 - i1);</div><div class="line">        &#125;            </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> diff;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后又看到了更为简洁的写法。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; words, <span class="built_in">string</span> word1, <span class="built_in">string</span> word2)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> idx = <span class="number">-1</span>, diff = INT_MAX;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words[i] == word1 || words[i] == word2) &#123;</div><div class="line">            <span class="keyword">if</span> (idx != <span class="number">-1</span> &amp;&amp; words[i] != words[idx])</div><div class="line">                diff = min(diff, i - idx);</div><div class="line">            idx = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> diff;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>精益求精。</p>

        
      </div>
    </div>

  



  <div class="pagination">
    <a class="extend prev" rel="prev" href="/archives/2016/">Prev</a><a class="page-number" href="/archives/2016/">1</a><span class="page-number current">2</span><a class="page-number" href="/archives/2016/page/3/">3</a><a class="extend next" rel="next" href="/archives/2016/page/3/">Next</a>
  </div>




          <div class="main-footer">
  
    © 2016 Trivia - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
